define("Promise",[],function(){"use strict";var n=function(){};return n}),define("Deferred",["Promise"],function(n){"use strict";var e,t={CLASS_NAME:"Deferred",STATUS_PROGRESS:0,STATUS_RESOLVED:1,STATUS_REJECTED:2,MESSAGE_FULLFILED:"Process was already finished."},r=function(n,e,t){var r={0:"progress",1:"resolve",2:"reject"};n&&!n.isCanceled()&&r[e]&&n[r[e]](t)},i=function(n,e){return function(t){r(n,e,t)}},o=function(n,e,o){var u,s=n&&n[e],c=n&&n.deferred;if(!s)return void r(c,e,o);try{if(u=s(o),t.STATUS_PROGRESS===e){if(!u)return;return void r(c,t.STATUS_PROGRESS,u)}if(!u||"function"!=typeof u.then)return void r(c,t.STATUS_RESOLVED,u);n.cancel=u.cancel,u.then(i(c,t.STATUS_RESOLVED),i(c,t.STATUS_REJECTED),i(c,t.STATUS_PROGRESS))}catch(f){r(c,t.STATUS_REJECTED,f)}},u=function(n,e,t){var r;for(r=0;r<n.length;r++)o(n[r],e,t)};return e=function(r){var i,s,c,f,a=t.STATUS_PROGRESS,S=!1,l=[],E=function(n,e){if(e)throw new Error(t.MESSAGE_FULLFILED);return n=n||function(){},a||n(),i};this.promise=i=new n,this.isResolved=function(){return t.STATUS_RESOLVED===a},this.isRejected=function(){return t.STATUS_REJECTED===a},this.isCanceled=function(){return S},this.isFulfilled=function(){return!!a},this.progress=function(n,e){return E(function(){u(l,t.STATUS_PROGRESS,n,null)},e)},this.resolve=function(n,e){return E(function(){a=t.STATUS_RESOLVED,s=n,u(l,t.STATUS_RESOLVED,n,null),l=null},e)},this.reject=c=function(n,e){return E(function(){a=t.STATUS_REJECTED,s=n,u(l,t.STATUS_REJECTED,n,null),l=null},e)},this.then=f=function(n,t,r){var u=[r,n,t];return u.cancel=i.cancel,u.deferred=new e(function(n){return u.cancel(n)}),a&&!l?o(u,a,s):l.push(u),u.deferred.promise},this.always=function(n){return f(n,n)},this.otherwise=function(n){return f(null,n)},this.cancel=function(n,e){var o;if(e)throw new Error(t.MESSAGE_FULLFILED);return a?null:(r&&(o=r(n),n=o?o:n),S=!0,a?("undefined"==typeof n&&(n=new Error("非同期処理がキャンセルされました。 理由は不明です。")),c(n),n):a===t.STATUS_REJECTED&&s===n?n:i.freeze?(i.freeze(),null):null)},i.isResolved=this.isResolved,i.isRejected=this.isRejected,i.isFulfilled=this.isFulfilled,i.isCanceled=this.isCanceled,i.then=this.then,i.always=this.always,i.otherwise=this.otherwise,i.cancel=this.cancel}}),define("animation",["Deferred"],function(n){"use strict";function e(n,e,t,r){var i,o=1e-4;return n*=3,e*=3,t*=3,r*=3,function(u){var s,c,f,a,S,l,E;if(0>u||u>1)throw new Error(u);s=i||u;do c=1-s,f=c*c,a=s*s,S=a*s,l=n*f*s+t*c*a+S,E=u-l,s+=.5*E;while(o<Math.abs(E));return i=s,e*f*s+r*c*a+S}}function t(n){return n in document.body.style?n:"-ms-"+n in document.body.style?"-ms-"+n:"-moz-"+n in document.body.style?"-moz-"+n:"-webkit-"+n in document.body.style?"-webkit-"+n:n}var r,i,o;return r={linear:function(n){return n},easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1)},i={transform:t("transform")},o=window.requestAnimationFrame||setTimeout,{EASINGS:r,STYLEKEYS:i,animate:function(e,t,i){var u,s=Date.now(),c=new n;return i?"string"==typeof i&&(i=r[i]):i=r.easeInOut,u=function(){var n=Date.now()-s;if(!c.isCanceled())return n>=e?(t(1),void c.resolve()):(t(i(n/e)),void o(u,1))},t(0),u(),c},animateInfinite:function(e,t,i){var u,s=Date.now(),c=new n;return i?"string"==typeof i&&(i=r[i]):i=r.easeInOut,u=function(){var n=Date.now()-s;c.isCanceled()||(n>=e&&(n%=e,s+=e),t(i(n/e)),o(u,1))},t(0),u(),c},calcPoint:function(n,e,t){return n-=0,e-=0,n+(e-n)*t},calcPointColor:function(n,e,t){function r(n,e){function r(n){var e,t=[],r="";for(n=n.match(/\w/g).join(""),e=0;e<n.length;e+=2)r=n.substr(e,2),r=parseInt("0x"+r,16),t.push(r);return t}function i(n,e){var r,i=[];for(r=0;r<n.length;r++)i.push(Math.ceil(this.calcPoint(n[r],e[r],t))),i[r]=i[r].toString(16);return"#"+i.join("")}return n=r(n),e=r(e),i.bind(this)(n,e)}return r.bind(this)(n,e)}}});