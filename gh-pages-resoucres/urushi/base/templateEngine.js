define("node",[],function(){"use strict";function e(e){return e&&!isNaN(e.nodeType)}function t(t){return e(t)&&document.ELEMENT_NODE===t.nodeType}function n(t){return e(t)&&document.TEXT_NODE===t.nodeType}function r(t){return e(t)&&document.COMMENT_NODE===t.nodeType}function i(t){return e(t)&&document.DOCUMENT_FRAGMENT_NODE===t.nodeType}function o(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,u){var s,l,c,f,d;if(!t(e))throw new Error("Not element node.");if(void 0===u||null===u)return!1;if(u instanceof Array||u instanceof jQuery){if(!u.length)return!1}else if(u instanceof NodeList){if(!u.length)return!1;u=Array.prototype.slice.call(u)}else{if(""===u)return!1;u=i(u)?Array.prototype.slice.call(u.childNodes):[u]}for(o(e),s=0,l=u.length;l>s;s++)if(c=u[s],t(c)||n(c)||r(c)||i(c))e.appendChild(c);else if(c instanceof jQuery)for(f=0,d=c.length;d>f;f++)e.appendChild(c[f]);else e.appendChild(document.createTextNode(""+c));return!0}var s={};return s.isNode=e,s.isElementNode=t,s.isTextNode=n,s.isCommentNode=r,s.isFragmentNode=i,s.setDomContents=u,s.clearDomContents=o,s}),define("Promise",[],function(){"use strict";var e=function(){};return e}),define("Deferred",["Promise"],function(e){"use strict";var t,n={CLASS_NAME:"Deferred",STATUS_PROGRESS:0,STATUS_RESOLVED:1,STATUS_REJECTED:2,MESSAGE_FULLFILED:"Process was already finished."},r=function(e,t,n){var r={0:"progress",1:"resolve",2:"reject"};e&&!e.isCanceled()&&r[t]&&e[r[t]](n)},i=function(e,t){return function(n){r(e,t,n)}},o=function(e,t,o){var u,s=e&&e[t],l=e&&e.deferred;if(!s)return void r(l,t,o);try{if(u=s(o),n.STATUS_PROGRESS===t){if(!u)return;return void r(l,n.STATUS_PROGRESS,u)}if(!u||"function"!=typeof u.then)return void r(l,n.STATUS_RESOLVED,u);e.cancel=u.cancel,u.then(i(l,n.STATUS_RESOLVED),i(l,n.STATUS_REJECTED),i(l,n.STATUS_PROGRESS))}catch(c){r(l,n.STATUS_REJECTED,c)}},u=function(e,t,n){var r;for(r=0;r<e.length;r++)o(e[r],t,n)};return t=function(r){var i,s,l,c,f=n.STATUS_PROGRESS,d=!1,a=[],E=function(e,t){if(t)throw new Error(n.MESSAGE_FULLFILED);return e=e||function(){},f||e(),i};this.promise=i=new e,this.isResolved=function(){return n.STATUS_RESOLVED===f},this.isRejected=function(){return n.STATUS_REJECTED===f},this.isCanceled=function(){return d},this.isFulfilled=function(){return!!f},this.progress=function(e,t){return E(function(){u(a,n.STATUS_PROGRESS,e,null)},t)},this.resolve=function(e,t){return E(function(){f=n.STATUS_RESOLVED,s=e,u(a,n.STATUS_RESOLVED,e,null),a=null},t)},this.reject=l=function(e,t){return E(function(){f=n.STATUS_REJECTED,s=e,u(a,n.STATUS_REJECTED,e,null),a=null},t)},this.then=c=function(e,n,r){var u=[r,e,n];return u.cancel=i.cancel,u.deferred=new t(function(e){return u.cancel(e)}),f&&!a?o(u,f,s):a.push(u),u.deferred.promise},this.always=function(e){return c(e,e)},this.otherwise=function(e){return c(null,e)},this.cancel=function(e,t){var o;if(t)throw new Error(n.MESSAGE_FULLFILED);return f?null:(r&&(o=r(e),e=o?o:e),d=!0,f?("undefined"==typeof e&&(e=new Error("非同期処理がキャンセルされました。 理由は不明です。")),l(e),e):f===n.STATUS_REJECTED&&s===e?e:i.freeze?(i.freeze(),null):null)},i.isResolved=this.isResolved,i.isRejected=this.isRejected,i.isFulfilled=this.isFulfilled,i.isCanceled=this.isCanceled,i.then=this.then,i.always=this.always,i.otherwise=this.otherwise,i.cancel=this.cancel}}),define("templateEngine",["node","Deferred"],function(e,t){"use strict";var n={TEMPLATE_NAME_TYPE:"data-urushi-type",TEMPLATE_NAME_OPTIONS:"data-urushi-options",TEMPLATE_NAME_ADDITION_TYPE:"data-urushi-addition-type",TEMPLATE_NAME_ADDITION_OPTIONS:"data-urushi-addition-options"},r={};return r.getOptionalClasses=function(e,t,n){var r,i,o,u,s=e.className;for(s=s.replace(t,""),r=s.trim().split(/[ ]+/),i="",o=0,u=r.length;u>o;o++)i+=r[o],i+=" ";return i.trim()},r.getAdjacentLabel=function(e,t,n){var r=e[n]||{};return(r.wholeText||"").trim()},r.getAttribute=function(e,t,n){return e.getAttribute(n)},r.getField=function(e,t,n){return e[n]},r.getUrushiOption=function(e,t,r){var i=e.getAttribute(n.TEMPLATE_NAME_OPTIONS);try{i=JSON.parse(i)||{}}catch(o){throw new Error("It's wrong syntax in "+n.TEMPLATE_NAME_OPTIONS+" : ID = "+e.id+", key = "+t)}return i[t]},r.getUrushiAdditionOption=function(e,t,r){var i=e.getAttribute(n.TEMPLATE_NAME_ADDITION_OPTIONS);try{i=JSON.parse(i)||{}}catch(o){throw new Error("It's wrong syntax in "+n.TEMPLATE_NAME_ADDITION_OPTIONS+" : ID = "+e.id+", key = "+t)}return i[t]||""},r.getPreviousText=function(e,t,n){var r=e.previousSibling||{};return(r.wholeText||"").trim()},r.getNextText=function(e,t,n){var r=e.nextSibling||{};return(r.wholeText||"").trim()},r.getChildNodes=function(t,n,r){var i,o,u,s=[],l=t.childNodes;for(o=0,u=l.length;u>o;o++)i=l[o],e.isNode(i)&&(e.isTextNode(i)&&!i.wholeText.trim()||s.push(i));return s},r.getChildNodesFunction=function(e,t,n){return function(){return r.getChildNodes(e,t,n)}},r.removePreviousNode=function(e){e&&e.previousSibling&&e.previousSibling.wholeText.trime()&&(e.nextSibling.remove?e.previousSibling.remove():e.previousSibling.parentNode.removeChild(e.previousSibling))},r.removeNextNode=function(e){e&&e.nextSibling&&e.nextSibling&&(e.nextSibling.remove?e.nextSibling.remove():e.nextSibling.parentNode.removeChild(e.nextSibling))},{renderDocument:function(e,i,o){function u(e,t,r){try{r=JSON.parse(r)||{}}catch(i){throw new Error("It's wrong syntax in "+n.TEMPLATE_NAME_ADDITION_OPTIONS)}r.parentNode=e.rootNode,require([t.name],function(e){new e(r)})}function s(){T=T||0,T++}function l(){T--,0===T&&d.resolve(E)}function c(e,t){var c,f,d,E,T,S={},h=e.getAttribute(n.TEMPLATE_NAME_ADDITION_TYPE),N=e.getAttribute(n.TEMPLATE_NAME_ADDITION_OPTIONS);if(!t)throw new Error("Invalid module type. set valid module type(data-urushi-type).");s(),f=t.method,c=t.options;for(T in f)if(d=f[T],E=c[T],"string"==typeof d?S[T]=r[d](e,T,E):"function"==typeof d&&(S[T]=d(e,T,E)),t.requires.indexOf(T)&&void 0===T)throw new Error("Require option is not defined. : "+T);for(T in o)S.hasOwnProperty(T)||(S[T]=o[T]);require([t.name],function(n){var o,s,c,f,d,A,p,_=new n(S);for(h&&u(_,i[h],N),c=e.attributes,f=0,d=c.length;d>f;f++)A=c[f].name,p=c[f].value,-1===i.base.attributes.ignore.indexOf(A)&&-1===t.attributes.ignore.indexOf(A)&&_[t.attributes.target].setAttribute(A,p),t.setValue&&"value"===A&&_[t.setValue.name](p),"disabled"===A&&_.setDisabled(!0),"readonly"===A&&"function"==typeof _.setReadonly&&_.setReadonly(!0);a[_.id]=_;for(o in t.remove)s=t.remove[o],"string"==typeof s?S[T]=r[s](e):"function"==typeof s&&(S[T]=s(e,T,E));e.parentNode.replaceChild(_.rootNode,e),l()})}function f(e){var t,r,o=(e.getAttribute(n.TEMPLATE_NAME_TYPE)||"").toLowerCase(),u=e.children||[];for(o&&c(e,i[o]),t=0,r=u.length;r>t;t++)f(u[t])}var d=new t,a={},E={compiled:e,widgets:a},T=NaN;if(o=o||{},!i)throw new Error("Set configuration of urushi template engine.");return e=e||document.body,f(e),isNaN(T)&&setTimeout(function(){d.resolve(E)},10),d}}});