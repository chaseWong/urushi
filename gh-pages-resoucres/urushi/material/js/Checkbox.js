define("Checkbox",["Urushi","materialConfig","Base","text!checkboxTemplate","text!checkboxTransitionUnitTemplate","text!checkboxRippleTransitionUnitTemplate"],function(t,e,i,o,n,_){"use strict";var s={ID_PREFIX:"urushi.checkbox",EMBEDDED:{checkboxClass:"",additionalClass:"",label:""},INTERVAL:20,RIPPLE_SCALE_MIN:0,RIPPLE_SCALE_MAX:1,CHECK_DEFAULT_TOP:14,CHECK_DEFAULT_LEFT:-3,CHECK_DEFAULT_WIDTH:0,CHECK_DEFAULT_HIGHT:0,CHECK_ANIMATE_WIDTH_TOP:13,CHECK_ANIMATE_WIDTH_LEFT:-5,CHECK_ANIMATE_WIDTH_WIDTH:7,CHECK_ANIMATE_WIDTH_HIGHT:2,CHECK_ANIMATE_HIGHT_TOP:4,CHECK_ANIMATE_HIGHT_LEFT:-1,CHECK_ANIMATE_HIGHT_HIGHT:13},E=0;return i.extend({template:o,embedded:s.EMBEDDED,duration:void 0,_initProperties:function(t){this.template=o,this.embedded=s.EMBEDDED,this.duration=e.DEFAULT_VALUE_DURATION},_render:function(e){this._super(e),t.hasTransitionSupport()||($(this.rootNode).find(".ripple").replaceWith(_),$(this.rootNode).find(".check").replaceWith(n))},initOption:function(e){this.setChecked(e.checked),t.hasTransitionSupport()||t.addEvent(this.inputNode,"click",this,"_onClick")},getValue:function(){return this.inputNode.checked},clear:function(){this.setChecked(!1)},setChecked:function(i){var o,n;"boolean"==typeof i&&(this.inputNode.checked=i,t.hasTransitionSupport()||(i?(o=.5*this.duration,n=this.checkNode,$(this.checkNode).css({top:s.CHECK_DEFAULT_TOP,left:s.CHECK_DEFAULT_LEFT,width:s.CHECK_DEFAULT_WIDTH,height:s.CHECK_DEFAULT_HIGHT,opacity:e.DEFAULT_VALUE_OPACITY_MAX}),$(this.checkBackgroundNode).animate({opacity:e.DEFAULT_VALUE_OPACITY_MAX},o),$(this.checkBackgroundNode).css({opacity:e.DEFAULT_VALUE_OPACITY_MAX}),$(n).animate({top:s.CHECK_ANIMATE_WIDTH_TOP,left:s.CHECK_ANIMATE_WIDTH_LEFT,width:s.CHECK_ANIMATE_WIDTH_WIDTH,hight:s.CHECK_ANIMATE_WIDTH_HIGHT},o,function(){$(n).animate({top:s.CHECK_ANIMATE_HIGHT_TOP,left:s.CHECK_ANIMATE_HIGHT_LEFT,height:s.CHECK_ANIMATE_HIGHT_HIGHT},o)})):($(this.checkBackgroundNode).animate({opacity:e.DEFAULT_VALUE_OPACITY_MIN},this.duration),$(this.checkNode).animate({opacity:e.DEFAULT_VALUE_OPACITY_MIN},this.duration))))},_onClick:function(i){var o=0,n=s.RIPPLE_SCALE_MIN,_=e.DEFAULT_VALUE_RIPPLE_OPACITY_MIN,E=function(t,i){o*s.INTERVAL<i?setTimeout(function(){n+=s.RIPPLE_SCALE_MAX*s.INTERVAL/i,_+=e.DEFAULT_VALUE_RIPPLE_OPACITY_MAX*s.INTERVAL/i,$(t).css({msTransform:"scale("+n+")",opacity:_}),o++,E(t,i)},s.INTERVAL):$(t).animate({msTransform:"scale("+s.RIPPLE_SCALE_MIN+")",opacity:e.DEFAULT_VALUE_RIPPLE_OPACITY_MIN},i-100)};t.hasTransitionSupport()||(E(this.rippleNode,this.duration),this.setChecked(this.inputNode.checked))},_attachNode:function(){this.inputNode=this.rootNode.getElementsByTagName("input")[0],t.hasTransitionSupport()||(this.rippleNode=this.rootNode.getElementsByClassName("checkbox-ripple-unit")[0],this.checkNode=this.rootNode.getElementsByClassName("checkbox-check-unit")[0],this.checkBackgroundNode=this.rootNode.getElementsByClassName("checkbox-check-background")[0])},_getId:function(){return s.ID_PREFIX+E++},getPropertyValue:function(){return this.inputNode.value},setPropertyValue:function(t){this.inputNode.value=t},setDisabled:function(t){return this._super(t)?(t?(this.inputNode.setAttribute("tabIndex","-1"),this.inputNode.setAttribute("disabled",!0)):(this.inputNode.removeAttribute("tabIndex"),this.inputNode.removeAttribute("disabled")),!0):!1},destroy:function(){t.hasTransitionSupport()||t.removeEvent(this.inputNode,"click",this,"_onClick"),this._super()}})});