define("legacy",[],function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(n,e){var t,r;for(isNaN(e)&&(e=0),t=e,r=n.length;r>t;t++)if(this[t]===n)return t;return-1}),"undefined"!=typeof document&&!("classList"in document.createElement("a"))&&function(n){if("HTMLElement"in n||"Element"in n){var e="classList",t="prototype",r=(n.HTMLElement||n.Element)[t],i=Object,u=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[t].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1},c=function(n,e){this.name=n,this.code=DOMException[n],this.message=e},a=function(n,e){if(""===e)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(n,e)},l=function(n){for(var e=u.call(n.className),t=e?e.split(/\s+/):[],r=0,i=t.length;i>r;r++)this.push(t[r]);this._updateClassName=function(){n.className=this.toString()}},f=l[t]=[],s=function(){return new l(this)};if(c[t]=Error[t],f.item=function(n){return this[n]||null},f.contains=function(n){return n+="",-1!==a(this,n)},f.add=function(){var n,e=arguments,t=0,r=e.length,i=!1;do n=e[t]+"",-1===a(this,n)&&(this.push(n),i=!0);while(++t<r);i&&this._updateClassName()},f.remove=function(){var n,e=arguments,t=0,r=e.length,i=!1;do{n=e[t]+"";var u=a(this,n);-1!==u&&(this.splice(u,1),i=!0)}while(++t<r);i&&this._updateClassName()},f.toggle=function(n,e){n+="";var t=this.contains(n),r=t?e!==!0&&"remove":e!==!1&&"add";return r&&this[r](n),t},f.toString=function(){return this.join(" ")},i.defineProperty){var d={get:s,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,d)}catch(h){-2146823252===h.number&&(d.enumerable=!1,i.defineProperty(r,e,d))}}else i[t].__defineGetter__&&r.__defineGetter__(e,s)}}(self)}),define("browser",[],function(){"use strict";return{KEYCODE:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},isTouch:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},hasTransitionSupport:function(){var n=(document.body||document.documentElement).style;return void 0!==n.transition||void 0!==n.WebkitTransition||void 0!==n.MozTransition||void 0!==n.MsTransition||void 0!==n.OTransition},getKeyCode:function(n){return document.all?n.keyCode:document.getElementById?n.keyCode?n.keyCode:n.charCode:document.layers?n.which:void 0}}}),define("event",[],function(){"use strict";var n={},e={TOUCH_START:"touchstart",TOUCH_END:"touchend",TOUCH_MOVE:"touchmove",TOUCH_CANCEL:"touchcancel"},t={addEvent:function(n,e,t,r,i){console.error("event is not initialized.")},removeEvent:function(n,e,t,r){console.error("event is not initialized.")},isTouchEvent:function(){var n={};return n[e.TOUCH_START]=!0,n[e.TOUCH_END]=!0,n[e.TOUCH_MOVE]=!0,n[e.TOUCH_CANCEL]=!0,function(e){var t=e||{};return!!n[t.type]}}()};return t.addEvent=function(){return document.addEventListener?function(e,t,r,i,u){var o;return e&&t&&i?r&&r.id&&"string"==typeof i&&t&&e.id&&n[r.id]&&n[r.id][e.id]&&n[r.id][e.id][t]&&n[r.id][e.id][t][i]?void console.log("Duplicate registration error.",e&&e.id||void 0,t,r,i,u):(o="string"==typeof i?void 0!==u?r[i].bind(r,u):r[i].bind(r):void 0!==u?i.bind(r,u):i.bind(r),e.addEventListener(t,o,!1),r&&r.id&&e.id&&"string"==typeof i&&t?(n[r.id]=n[r.id]||{},n[r.id][e.id]=n[r.id][e.id]||{},n[r.id][e.id][t]=n[r.id][e.id][t]||{},n[r.id][e.id][t][i]=o):console.log("Regsiterd function can't be deleted.",e&&e.id||void 0,t,r,i,u),void 0):void console.log("Callback function registration error.",e&&e.id||void 0,t,r,i,u)}:function(e,t,r,i,u){var o;return e&&t&&i?r&&r.id&&"string"==typeof i&&t&&e.id&&n[r.id]&&n[r.id][e.id]&&n[r.id][e.id][t]&&n[r.id][e.id][t][i]?void console.log("Duplicate registration error.",e&&e.id||void 0,t,r,i,u):(o="string"==typeof i?void 0!==u?r[i].bind(r,u):r[i].bind(r):void 0!==u?i.bind(r,u):i.bind(r),e.attachEvent("on"+t,o),r&&r.id&&e.id&&"string"==typeof i&&t?(n[r.id]=n[r.id]||{},n[r.id][e.id]=n[r.id][e.id]||{},n[r.id][e.id][t]=n[r.id][e.id][t]||{},n[r.id][e.id][t][i]=o):console.log("Regsiterd function can't be deleted.",e&&e.id||void 0,t,r,i,u),void 0):void console.log("Callback function registration error.",e&&e.id||void 0,t,r,i,u)}}(),t.removeEvent=function(){return document.addEventListener?function(e,t,r,i){r&&e&&n[r.id]&&n[r.id][e.id]&&n[r.id][e.id][t]&&n[r.id][e.id][t][i]&&(e.removeEventListener(t,n[r.id][e.id][t][i]),n[r.id][e.id][t][i]=null,delete n[r.id][e.id][t][i])}:function(e,t,r,i){r&&e&&n[r.id]&&n[r.id][e.id]&&n[r.id][e.id][t]&&n[r.id][e.id][t][i]&&(e.detachEvent("on"+t,n[r.id][t][i]),n[r.id][e.id][t][i]=null,delete n[r.id][e.id][t][i])}}(),t}),define("Promise",[],function(){"use strict";var n=function(){};return n}),define("Deferred",["Promise"],function(n){"use strict";var e,t={CLASS_NAME:"Deferred",STATUS_PROGRESS:0,STATUS_RESOLVED:1,STATUS_REJECTED:2,MESSAGE_FULLFILED:"Process was already finished."},r=function(n,e,t){var r={0:"progress",1:"resolve",2:"reject"};n&&!n.isCanceled()&&r[e]&&n[r[e]](t)},i=function(n,e){return function(t){r(n,e,t)}},u=function(n,e,u){var o,c=n&&n[e],a=n&&n.deferred;if(!c)return void r(a,e,u);try{if(o=c(u),t.STATUS_PROGRESS===e){if(!o)return;return void r(a,t.STATUS_PROGRESS,o)}if(!o||"function"!=typeof o.then)return void r(a,t.STATUS_RESOLVED,o);n.cancel=o.cancel,o.then(i(a,t.STATUS_RESOLVED),i(a,t.STATUS_REJECTED),i(a,t.STATUS_PROGRESS))}catch(l){r(a,t.STATUS_REJECTED,l)}},o=function(n,e,t){var r;for(r=0;r<n.length;r++)u(n[r],e,t)};return e=function(r){var i,c,a,l,f=t.STATUS_PROGRESS,s=!1,d=[],h=function(n,e){if(e)throw new Error(t.MESSAGE_FULLFILED);return n=n||function(){},f||n(),i};this.promise=i=new n,this.isResolved=function(){return t.STATUS_RESOLVED===f},this.isRejected=function(){return t.STATUS_REJECTED===f},this.isCanceled=function(){return s},this.isFulfilled=function(){return!!f},this.progress=function(n,e){return h(function(){o(d,t.STATUS_PROGRESS,n,null)},e)},this.resolve=function(n,e){return h(function(){f=t.STATUS_RESOLVED,c=n,o(d,t.STATUS_RESOLVED,n,null),d=null},e)},this.reject=a=function(n,e){return h(function(){f=t.STATUS_REJECTED,c=n,o(d,t.STATUS_REJECTED,n,null),d=null},e)},this.then=l=function(n,t,r){var o=[r,n,t];return o.cancel=i.cancel,o.deferred=new e(function(n){return o.cancel(n)}),f&&!d?u(o,f,c):d.push(o),o.deferred.promise},this.always=function(n){return l(n,n)},this.otherwise=function(n){return l(null,n)},this.cancel=function(n,e){var u;if(e)throw new Error(t.MESSAGE_FULLFILED);return f?null:(r&&(u=r(n),n=u?u:n),s=!0,f?("undefined"==typeof n&&(n=new Error("非同期処理がキャンセルされました。 理由は不明です。")),a(n),n):f===t.STATUS_REJECTED&&c===n?n:i.freeze?(i.freeze(),null):null)},i.isResolved=this.isResolved,i.isRejected=this.isRejected,i.isFulfilled=this.isFulfilled,i.isCanceled=this.isCanceled,i.then=this.then,i.always=this.always,i.otherwise=this.otherwise,i.cancel=this.cancel}}),function(){var n=this,e=n._,t=Array.prototype,r=Object.prototype,i=Function.prototype,u=t.push,o=t.slice,c=t.concat,a=r.toString,l=r.hasOwnProperty,f=Array.isArray,s=Object.keys,d=i.bind,h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):n._=h,h.VERSION="1.7.0";var p=function(n,e,t){if(void 0===e)return n;switch(null==t?3:t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,i){return n.call(e,t,r,i)};case 4:return function(t,r,i,u){return n.call(e,t,r,i,u)}}return function(){return n.apply(e,arguments)}};h.iteratee=function(n,e,t){return null==n?h.identity:h.isFunction(n)?p(n,e,t):h.isObject(n)?h.matches(n):h.property(n)},h.each=h.forEach=function(n,e,t){if(null==n)return n;e=p(e,t);var r,i=n.length;if(i===+i)for(r=0;i>r;r++)e(n[r],r,n);else{var u=h.keys(n);for(r=0,i=u.length;i>r;r++)e(n[u[r]],u[r],n)}return n},h.map=h.collect=function(n,e,t){if(null==n)return[];e=h.iteratee(e,t);for(var r,i=n.length!==+n.length&&h.keys(n),u=(i||n).length,o=Array(u),c=0;u>c;c++)r=i?i[c]:c,o[c]=e(n[r],r,n);return o};var v="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(n,e,t,r){null==n&&(n=[]),e=p(e,r,4);var i,u=n.length!==+n.length&&h.keys(n),o=(u||n).length,c=0;if(arguments.length<3){if(!o)throw new TypeError(v);t=n[u?u[c++]:c++]}for(;o>c;c++)i=u?u[c]:c,t=e(t,n[i],i,n);return t},h.reduceRight=h.foldr=function(n,e,t,r){null==n&&(n=[]),e=p(e,r,4);var i,u=n.length!==+n.length&&h.keys(n),o=(u||n).length;if(arguments.length<3){if(!o)throw new TypeError(v);t=n[u?u[--o]:--o]}for(;o--;)i=u?u[o]:o,t=e(t,n[i],i,n);return t},h.find=h.detect=function(n,e,t){var r;return e=h.iteratee(e,t),h.some(n,function(n,t,i){return e(n,t,i)?(r=n,!0):void 0}),r},h.filter=h.select=function(n,e,t){var r=[];return null==n?r:(e=h.iteratee(e,t),h.each(n,function(n,t,i){e(n,t,i)&&r.push(n)}),r)},h.reject=function(n,e,t){return h.filter(n,h.negate(h.iteratee(e)),t)},h.every=h.all=function(n,e,t){if(null==n)return!0;e=h.iteratee(e,t);var r,i,u=n.length!==+n.length&&h.keys(n),o=(u||n).length;for(r=0;o>r;r++)if(i=u?u[r]:r,!e(n[i],i,n))return!1;return!0},h.some=h.any=function(n,e,t){if(null==n)return!1;e=h.iteratee(e,t);var r,i,u=n.length!==+n.length&&h.keys(n),o=(u||n).length;for(r=0;o>r;r++)if(i=u?u[r]:r,e(n[i],i,n))return!0;return!1},h.contains=h.include=function(n,e){return null==n?!1:(n.length!==+n.length&&(n=h.values(n)),h.indexOf(n,e)>=0)},h.invoke=function(n,e){var t=o.call(arguments,2),r=h.isFunction(e);return h.map(n,function(n){return(r?e:n[e]).apply(n,t)})},h.pluck=function(n,e){return h.map(n,h.property(e))},h.where=function(n,e){return h.filter(n,h.matches(e))},h.findWhere=function(n,e){return h.find(n,h.matches(e))},h.max=function(n,e,t){var r,i,u=-(1/0),o=-(1/0);if(null==e&&null!=n){n=n.length===+n.length?n:h.values(n);for(var c=0,a=n.length;a>c;c++)r=n[c],r>u&&(u=r)}else e=h.iteratee(e,t),h.each(n,function(n,t,r){i=e(n,t,r),(i>o||i===-(1/0)&&u===-(1/0))&&(u=n,o=i)});return u},h.min=function(n,e,t){var r,i,u=1/0,o=1/0;if(null==e&&null!=n){n=n.length===+n.length?n:h.values(n);for(var c=0,a=n.length;a>c;c++)r=n[c],u>r&&(u=r)}else e=h.iteratee(e,t),h.each(n,function(n,t,r){i=e(n,t,r),(o>i||i===1/0&&u===1/0)&&(u=n,o=i)});return u},h.shuffle=function(n){for(var e,t=n&&n.length===+n.length?n:h.values(n),r=t.length,i=Array(r),u=0;r>u;u++)e=h.random(0,u),e!==u&&(i[u]=i[e]),i[e]=t[u];return i},h.sample=function(n,e,t){return null==e||t?(n.length!==+n.length&&(n=h.values(n)),n[h.random(n.length-1)]):h.shuffle(n).slice(0,Math.max(0,e))},h.sortBy=function(n,e,t){return e=h.iteratee(e,t),h.pluck(h.map(n,function(n,t,r){return{value:n,index:t,criteria:e(n,t,r)}}).sort(function(n,e){var t=n.criteria,r=e.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return n.index-e.index}),"value")};var E=function(n){return function(e,t,r){var i={};return t=h.iteratee(t,r),h.each(e,function(r,u){var o=t(r,u,e);n(i,r,o)}),i}};h.groupBy=E(function(n,e,t){h.has(n,t)?n[t].push(e):n[t]=[e]}),h.indexBy=E(function(n,e,t){n[t]=e}),h.countBy=E(function(n,e,t){h.has(n,t)?n[t]++:n[t]=1}),h.sortedIndex=function(n,e,t,r){t=h.iteratee(t,r,1);for(var i=t(e),u=0,o=n.length;o>u;){var c=u+o>>>1;t(n[c])<i?u=c+1:o=c}return u},h.toArray=function(n){return n?h.isArray(n)?o.call(n):n.length===+n.length?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:n.length===+n.length?n.length:h.keys(n).length},h.partition=function(n,e,t){e=h.iteratee(e,t);var r=[],i=[];return h.each(n,function(n,t,u){(e(n,t,u)?r:i).push(n)}),[r,i]},h.first=h.head=h.take=function(n,e,t){return null==n?void 0:null==e||t?n[0]:0>e?[]:o.call(n,0,e)},h.initial=function(n,e,t){return o.call(n,0,Math.max(0,n.length-(null==e||t?1:e)))},h.last=function(n,e,t){return null==n?void 0:null==e||t?n[n.length-1]:o.call(n,Math.max(n.length-e,0))},h.rest=h.tail=h.drop=function(n,e,t){return o.call(n,null==e||t?1:e)},h.compact=function(n){return h.filter(n,h.identity)};var y=function(n,e,t,r){if(e&&h.every(n,h.isArray))return c.apply(r,n);for(var i=0,o=n.length;o>i;i++){var a=n[i];h.isArray(a)||h.isArguments(a)?e?u.apply(r,a):y(a,e,t,r):t||r.push(a)}return r};h.flatten=function(n,e){return y(n,e,!1,[])},h.without=function(n){return h.difference(n,o.call(arguments,1))},h.uniq=h.unique=function(n,e,t,r){if(null==n)return[];h.isBoolean(e)||(r=t,t=e,e=!1),null!=t&&(t=h.iteratee(t,r));for(var i=[],u=[],o=0,c=n.length;c>o;o++){var a=n[o];if(e)(!o||u!==a)&&i.push(a),u=a;else if(t){var l=t(a,o,n);h.indexOf(u,l)<0&&(u.push(l),i.push(a))}else h.indexOf(i,a)<0&&i.push(a)}return i},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(n){if(null==n)return[];for(var e=[],t=arguments.length,r=0,i=n.length;i>r;r++){var u=n[r];if(!h.contains(e,u)){for(var o=1;t>o&&h.contains(arguments[o],u);o++);o===t&&e.push(u)}}return e},h.difference=function(n){var e=y(o.call(arguments,1),!0,!0,[]);return h.filter(n,function(n){return!h.contains(e,n)})},h.zip=function(n){if(null==n)return[];for(var e=h.max(arguments,"length").length,t=Array(e),r=0;e>r;r++)t[r]=h.pluck(arguments,r);return t},h.object=function(n,e){if(null==n)return{};for(var t={},r=0,i=n.length;i>r;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t},h.indexOf=function(n,e,t){if(null==n)return-1;var r=0,i=n.length;if(t){if("number"!=typeof t)return r=h.sortedIndex(n,e),n[r]===e?r:-1;r=0>t?Math.max(0,i+t):t}for(;i>r;r++)if(n[r]===e)return r;return-1},h.lastIndexOf=function(n,e,t){if(null==n)return-1;var r=n.length;for("number"==typeof t&&(r=0>t?r+t+1:Math.min(r,t+1));--r>=0;)if(n[r]===e)return r;return-1},h.range=function(n,e,t){arguments.length<=1&&(e=n||0,n=0),t=t||1;for(var r=Math.max(Math.ceil((e-n)/t),0),i=Array(r),u=0;r>u;u++,n+=t)i[u]=n;return i};var T=function(){};h.bind=function(n,e){var t,r;if(d&&n.bind===d)return d.apply(n,o.call(arguments,1));if(!h.isFunction(n))throw new TypeError("Bind must be called on a function");return t=o.call(arguments,2),r=function(){if(this instanceof r){T.prototype=n.prototype;var i=new T;T.prototype=null;var u=n.apply(i,t.concat(o.call(arguments)));return h.isObject(u)?u:i}return n.apply(e,t.concat(o.call(arguments)))}},h.partial=function(n){var e=o.call(arguments,1);return function(){for(var t=0,r=e.slice(),i=0,u=r.length;u>i;i++)r[i]===h&&(r[i]=arguments[t++]);for(;t<arguments.length;)r.push(arguments[t++]);return n.apply(this,r)}},h.bindAll=function(n){var e,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)t=arguments[e],n[t]=h.bind(n[t],n);return n},h.memoize=function(n,e){var t=function(r){var i=t.cache,u=e?e.apply(this,arguments):r;return h.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return t.cache={},t},h.delay=function(n,e){var t=o.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},h.defer=function(n){return h.delay.apply(h,[n,1].concat(o.call(arguments,1)))},h.throttle=function(n,e,t){var r,i,u,o=null,c=0;t||(t={});var a=function(){c=t.leading===!1?0:h.now(),o=null,u=n.apply(r,i),o||(r=i=null)};return function(){var l=h.now();!c&&t.leading===!1&&(c=l);var f=e-(l-c);return r=this,i=arguments,0>=f||f>e?(clearTimeout(o),o=null,c=l,u=n.apply(r,i),o||(r=i=null)):!o&&t.trailing!==!1&&(o=setTimeout(a,f)),u}},h.debounce=function(n,e,t){var r,i,u,o,c,a=function(){var l=h.now()-o;e>l&&l>0?r=setTimeout(a,e-l):(r=null,t||(c=n.apply(u,i),r||(u=i=null)))};return function(){u=this,i=arguments,o=h.now();var l=t&&!r;return r||(r=setTimeout(a,e)),l&&(c=n.apply(u,i),u=i=null),c}},h.wrap=function(n,e){return h.partial(e,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var n=arguments,e=n.length-1;return function(){for(var t=e,r=n[e].apply(this,arguments);t--;)r=n[t].call(this,r);return r}},h.after=function(n,e){return function(){return--n<1?e.apply(this,arguments):void 0}},h.before=function(n,e){var t;return function(){return--n>0?t=e.apply(this,arguments):e=null,t}},h.once=h.partial(h.before,2),h.keys=function(n){if(!h.isObject(n))return[];if(s)return s(n);var e=[];for(var t in n)h.has(n,t)&&e.push(t);return e},h.values=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),i=0;t>i;i++)r[i]=n[e[i]];return r},h.pairs=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),i=0;t>i;i++)r[i]=[e[i],n[e[i]]];return r},h.invert=function(n){for(var e={},t=h.keys(n),r=0,i=t.length;i>r;r++)e[n[t[r]]]=t[r];return e},h.functions=h.methods=function(n){var e=[];for(var t in n)h.isFunction(n[t])&&e.push(t);return e.sort()},h.extend=function(n){if(!h.isObject(n))return n;for(var e,t,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(t in e)l.call(e,t)&&(n[t]=e[t])}return n},h.pick=function(n,e,t){var r,i={};if(null==n)return i;if(h.isFunction(e)){e=p(e,t);for(r in n){var u=n[r];e(u,r,n)&&(i[r]=u)}}else{var a=c.apply([],o.call(arguments,1));n=new Object(n);for(var l=0,f=a.length;f>l;l++)r=a[l],r in n&&(i[r]=n[r])}return i},h.omit=function(n,e,t){if(h.isFunction(e))e=h.negate(e);else{var r=h.map(c.apply([],o.call(arguments,1)),String);e=function(n,e){return!h.contains(r,e)}}return h.pick(n,e,t)},h.defaults=function(n){if(!h.isObject(n))return n;for(var e=1,t=arguments.length;t>e;e++){var r=arguments[e];for(var i in r)void 0===n[i]&&(n[i]=r[i])}return n},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,e){return e(n),n};var g=function(n,e,t,r){if(n===e)return 0!==n||1/n===1/e;if(null==n||null==e)return n===e;n instanceof h&&(n=n._wrapped),e instanceof h&&(e=e._wrapped);var i=a.call(n);if(i!==a.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!==+n?+e!==+e:0===+n?1/+n===1/e:+n===+e;case"[object Date]":case"[object Boolean]":return+n===+e}if("object"!=typeof n||"object"!=typeof e)return!1;for(var u=t.length;u--;)if(t[u]===n)return r[u]===e;var o=n.constructor,c=e.constructor;if(o!==c&&"constructor"in n&&"constructor"in e&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(c)&&c instanceof c))return!1;t.push(n),r.push(e);var l,f;if("[object Array]"===i){if(l=n.length,f=l===e.length)for(;l--&&(f=g(n[l],e[l],t,r)););}else{var s,d=h.keys(n);if(l=d.length,f=h.keys(e).length===l)for(;l--&&(s=d[l],f=h.has(e,s)&&g(n[s],e[s],t,r)););}return t.pop(),r.pop(),f};h.isEqual=function(n,e){return g(n,e,[],[])},h.isEmpty=function(n){if(null==n)return!0;if(h.isArray(n)||h.isString(n)||h.isArguments(n))return 0===n.length;for(var e in n)if(h.has(n,e))return!1;return!0},h.isElement=function(n){return!!n&&1===n.nodeType},h.isArray=f||function(n){return"[object Array]"===a.call(n)},h.isObject=function(n){var e=typeof n;return"function"===e||"object"===e&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){h["is"+n]=function(e){return a.call(e)==="[object "+n+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===a.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,e){return null!=n&&l.call(n,e)},h.noConflict=function(){return n._=e,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(n){return function(e){return e[n]}},h.matches=function(n){var e=h.pairs(n),t=e.length;return function(n){if(null==n)return!t;n=new Object(n);for(var r=0;t>r;r++){var i=e[r],u=i[0];if(i[1]!==n[u]||!(u in n))return!1}return!0}},h.times=function(n,e,t){var r=Array(Math.max(0,n));e=p(e,t,1);for(var i=0;n>i;i++)r[i]=e(i);return r},h.random=function(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=h.invert(m),S=function(n){var e=function(e){return n[e]},t="(?:"+h.keys(n).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,e):n}};h.escape=S(m),h.unescape=S(_),h.result=function(n,e){if(null!=n){var t=n[e];return h.isFunction(t)?n[e]():t}};var A=0;h.uniqueId=function(n){var e=++A+"";return n?n+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var w=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},b=/\\|'|\r|\n|\u2028|\u2029/g,D=function(n){return"\\"+O[n]};h.template=function(n,e,t){!e&&t&&(e=t),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||w).source,(e.interpolate||w).source,(e.evaluate||w).source].join("|")+"|$","g"),i=0,u="__p+='";n.replace(r,function(e,t,r,o,c){return u+=n.slice(i,c).replace(b,D),i=c+e.length,t?u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),e}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var o=new Function(e.variable||"obj","_",u)}catch(c){throw c.source=u,c}var a=function(n){return o.call(this,n,h)},l=e.variable||"obj";return a.source="function("+l+"){\n"+u+"}",a},h.chain=function(n){var e=h(n);return e._chain=!0,e};var R=function(n){return this._chain?h(n).chain():n};h.mixin=function(n){h.each(h.functions(n),function(e){var t=h[e]=n[e];h.prototype[e]=function(){var n=[this._wrapped];return u.apply(n,arguments),R.call(this,t.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=t[n];h.prototype[n]=function(){var t=this._wrapped;return e.apply(t,arguments),("shift"===n||"splice"===n)&&0===t.length&&delete t[0],R.call(this,t)}}),h.each(["concat","join","slice"],function(n){var e=t[n];h.prototype[n]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),define("xhr",["underscore","Deferred"],function(n,e){"use strict";var t,r={HTTP_METHOD_GET:"GET",HTTP_METHOD_POST:"POST",HTTP_METHOD_PUT:"PUT",HTTP_METHOD_DELETE:"DELETE",READY_STATE_UNINITIALIZED:0,READY_STATE_CONNECTED:1,READY_STATE_REQUESTED:2,READY_STATE_PROCESSING:3,READY_STATE_FINISHED:4,OPTION_DEFAULT_TIMEOUT:3e5},i={data:null,query:null,async:!0,responseType:"text",timeout:r.DEFAULT_TIMEOUT,ioArgs:null,withCredentials:!1,user:void 0,password:void 0,headers:{"content-type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}},u=function(){return!0},o=function(){return!1},c=function(){return window.XMLHttpRequest?u:o}(),a=function(){var n;return c()?(n=new XMLHttpRequest,"undefined"!=typeof n.responseType?u:o):o}(),l=function(){return window.XMLHttpRequest?function(){return new XMLHttpRequest}:window.ActiveXObject?function(){var n;try{n=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){n=new window.ActiveXObject("Microsoft.XMLHTTP")}return n}:function(){return null}}(),f=function(n,e){var t=[200,201];return function(){r.READY_STATE_FINISHED===n.readyState&&(-1!==t.indexOf(n.status)?e.resolve(n.responseText):e.reject(n.responseText))}},s=function(t,r,u){var o,c,s,d=new e;try{o=l(),c=n.extend(i,u),o.open(t,r,c.async,c.user,c.password),o.withCredentials=c.withCredentials,o.onreadystatechange=c.response?c.response(o,d):f(o,d),a()&&(o.responseType=c.responseType);for(s in c.headers)o.setRequestHeader(s,c.headers[s]);o.send(c.data)}catch(h){d.reject(h)}return d};return t={get:function(n,e){return s(r.HTTP_METHOD_GET,n,e)},post:function(n,e){return s(r.HTTP_METHOD_POST,n,e)},put:function(n,e){return s(r.HTTP_METHOD_PUT,n,e)},"delete":function(n,e){return s(r.HTTP_METHOD_DELETE,n,e)}}}),define("node",[],function(){"use strict";function n(n){return n&&!isNaN(n.nodeType)}function e(e){return n(e)&&document.ELEMENT_NODE===e.nodeType}function t(e){return n(e)&&document.TEXT_NODE===e.nodeType}function r(e){return n(e)&&document.COMMENT_NODE===e.nodeType}function i(e){return n(e)&&document.DOCUMENT_FRAGMENT_NODE===e.nodeType}function u(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function o(n,o){var c,a,l,f,s;if(!e(n))throw new Error("Not element node.");if(void 0===o||null===o)return!1;if(o instanceof Array||o instanceof jQuery){if(!o.length)return!1}else if(o instanceof NodeList){if(!o.length)return!1;o=Array.prototype.slice.call(o)}else{if(""===o)return!1;o=i(o)?Array.prototype.slice.call(o.childNodes):[o]}for(u(n),c=0,a=o.length;a>c;c++)if(l=o[c],e(l)||t(l)||r(l)||i(l))n.appendChild(l);else if(l instanceof jQuery)for(f=0,s=l.length;s>f;f++)n.appendChild(l[f]);else n.appendChild(document.createTextNode(""+l));return!0}var c={};return c.isNode=n,c.isElementNode=e,c.isTextNode=t,c.isCommentNode=r,c.isFragmentNode=i,c.setDomContents=o,c.clearDomContents=u,c}),define("Urushi",["legacy","browser","event","Deferred","xhr","node"],function(n,e,t,r,i,u){"use strict";var o,c,a,l,f={},s=[e,t,u];for(c=0,a=s.length;a>c;c++){o=s[c];for(l in o)f[l]=o[l]}f.Deferred=r,f.xhr={};for(l in i)f.xhr[l]=i[l];return f});